# ИНСТРУКЦИЯ ПО УСТАНОВКЕ И ЗАПУСКУ

## Шаг 1: Установка Python

1. Скачайте Python 3.11+ с официального сайта: https://www.python.org/downloads/
2. **ВАЖНО:** При установке поставьте галочку "Add Python to PATH"
3. Перезагрузите компьютер после установки

## Шаг 2: Установка зависимостей

Откройте командную строку (cmd) в папке проекта и выполните:

```bash
python -m pip install -r requirements.txt
python -m playwright install chromium
```

## Шаг 3: Настройка прокси (опционально)

Отредактируйте файл `config.json`:
- Измените IP-адреса прокси на свои
- Для SOCKS5 измените порт на 50101

## Шаг 4: Запуск

### Быстрый тест (1 URL)
```bash
python iherb_bypass.py
```

### Полный тест стабильности (5 URL × 30 запросов)
```bash
python stability_test.py
```

## Результаты

- Результаты теста сохраняются в `test_results_YYYYMMDD_HHMMSS.json`
- Неудачные ответы сохраняются в папку `debug_responses/`

## Что делает скрипт

1. **Обход Cloudflare:**
   - Скрывает признаки автоматизации (navigator.webdriver)
   - Подделывает отпечаток браузера (canvas, WebGL)
   - Использует реалистичные задержки между запросами

2. **Тест стабильности:**
   - Загружает каждый URL 30 раз
   - Тестирует с прокси и без
   - Автоматически повторяет при обнаружении Cloudflare

3. **Отчет:**
   - Показывает процент успешных запросов
   - Сохраняет HTML неудачных попыток для отладки

## Если не работает

1. Убедитесь, что Python установлен: `python --version`
2. Убедитесь, что Playwright установлен: `python -m playwright --version`
3. Проверьте прокси в `config.json`
4. Запустите с headless=False (уже включено) чтобы видеть браузер
